<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="spms.dao.ProjectDao">
	<resultMap type="project" id="projectResultMap">
		<result column="PNO" property="no"/>
		<result column="PNAME" property="title"/>
		<result column="CONTENT" property="content"/>
		<result column="START_DATE" property="startDate"/>
		<result column="END_DATE" property="endDate"/>
		<result column="STATE" property="state"/>
		<result column="CREATION_DATE" property="creationDate"/>
		<result column="TAGS" property="tags"/>
	</resultMap>
	<select id="selectList" resultMap="projectResultMap">
		select PNO, PNAME, START_DATE, END_DATE, STATE
		from PROJECTS
		order by PNO desc
	</select>
	<select id="selectOne" parameterType="int" resultMap="projectResultMap">
		select PNO, PNAME, CONTENT, START_DATE, END_DATE,
			STATE, CREATION_DATE, TAGS 
		from PROJECTS
		where PNO = #{value}
	</select>
	<insert id="insert" parameterType="project">
		insert into PROJECTS(PNAME, CONTENT, START_DATE, END_DATE, STATE
		, CREATION_DATE, TAGS) values(#{title}, #{content},
		 #{startDate}, #{endDate}, #{state}, #{creationDate}, #{tags})
	</insert>
	<update id="update" parameterType="project">
		update PROJECTS set 
				PNAME = #{title},
				CONTENT = #{content},
				START_DATE = #{startDate},
				END_DATE = #{endDate},
				STATE = #{state},
				TAGS = #{tags}
			where PNO = #{value}
	</update>
	<delete id="delete" parameterType="int">
		delete from PROJECTS
		where PNO = #{value}
	</delete>
</mapper>